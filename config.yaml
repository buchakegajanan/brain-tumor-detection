# Configuration File for Brain Tumor Detection Project

# Data Configuration
data:
  raw_data_path: "data/raw"
  processed_data_path: "data/processed"
  tumor_folder: "Tumor"
  no_tumor_folder: "No_Tumor"
  image_size: [128, 128]
  batch_size: 64
  validation_split: 0.15
  test_split: 0.15
  random_seed: 42

# Preprocessing Configuration
preprocessing:
  normalize: true
  normalization_range: [0, 1]
  apply_clahe: true  # Contrast Limited Adaptive Histogram Equalization
  apply_gaussian_blur: true
  gaussian_kernel: [3, 3]
  remove_noise: true

# Data Augmentation Configuration
augmentation:
  enabled: true
  rotation_range: 20
  width_shift_range: 0.1
  height_shift_range: 0.1
  horizontal_flip: true
  vertical_flip: false
  zoom_range: 0.15
  brightness_range: [0.8, 1.2]
  fill_mode: "nearest"

# Model Configuration
model:
  architecture: "custom_cnn"  # Options: custom_cnn, mobilenetv2, resnet50
  input_shape: [128, 128, 3]
  num_classes: 1  # Binary classification
  dropout_rate: 0.5
  use_batch_normalization: true
  
  # Transfer Learning Settings
  transfer_learning:
    use_pretrained: true
    weights: "imagenet"
    freeze_base: false
    fine_tune_from_layer: 100  # Unfreeze last N layers

# Training Configuration
training:
  epochs: 10
  initial_learning_rate: 0.001
  optimizer: "adam"  # Options: adam, sgd, rmsprop
  loss_function: "binary_crossentropy"
  metrics: ["accuracy", "precision", "recall", "auc"]
  
  # Callbacks
  early_stopping:
    enabled: true
    monitor: "val_loss"
    patience: 10
    restore_best_weights: true
  
  reduce_lr:
    enabled: true
    monitor: "val_loss"
    factor: 0.5
    patience: 5
    min_lr: 0.00001
  
  model_checkpoint:
    enabled: true
    save_best_only: true
    monitor: "val_accuracy"
    mode: "max"
    filepath: "models/best_model.h5"
  
  # Class Imbalance Handling
  use_class_weights: true

# Evaluation Configuration
evaluation:
  metrics:
    - accuracy
    - precision
    - recall
    - f1_score
    - specificity
    - auc_roc
  
  confusion_matrix: true
  classification_report: true
  roc_curve: true
  
  # Threshold for binary classification
  prediction_threshold: 0.5

# Grad-CAM Configuration
gradcam:
  enabled: true
  target_layer: "block_16_expand_relu"  # For MobileNetV2
  colormap: "jet"
  alpha: 0.4  # Overlay transparency
  save_visualizations: true
  output_path: "results/gradcam"

# Database Configuration
database:
  type: "mysql"  # Options: mysql, mongodb
  host: "localhost"
  port: 3306
  database: "brain_tumor_db"
  username: "root"
  password: "your_password_here"  # Change this!
  
  # Tables
  tables:
    users: "users"
    predictions: "predictions"

# Flask Application Configuration
flask:
  secret_key: "your-secret-key-change-this"  # Change this!
  debug: false
  host: "0.0.0.0"
  port: 5000
  upload_folder: "deployment/static/uploads"
  max_content_length: 16777216  # 16MB max file size
  allowed_extensions: ["png", "jpg", "jpeg"]

# Logging Configuration
logging:
  level: "INFO"  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
  log_file: "logs/app.log"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Paths
paths:
  models: "models"
  results: "results"
  plots: "results/plots"
  logs: "logs"
  uploads: "deployment/static/uploads"

# Visualization Configuration
visualization:
  plot_style: "seaborn"
  figure_size: [12, 8]
  dpi: 100
  save_format: "png"
  
  # Training plots
  plot_training_history: true
  plot_confusion_matrix: true
  plot_roc_curve: true
  plot_sample_predictions: true
  num_sample_predictions: 16

# Production Settings
production:
  model_path: "models/best_model.h5"
  use_gpu: true
  gpu_memory_fraction: 0.8
  allow_growth: true
